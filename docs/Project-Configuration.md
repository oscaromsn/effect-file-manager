# Project Configuration

> **Relevant source files**
> * [.gitignore](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/.gitignore)
> * [package.json](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/package.json)

This document provides a reference guide for the core configuration files that control the Effect File Manager project setup, including Git ignore patterns, package management, workspace organization, and build scripts. These files define the development environment's foundational settings.

For environment-specific configuration (`.env` files), see [Environment Configuration](/lucas-barake/effect-file-manager/2.1-environment-configuration). For development tooling configuration (linters, formatters), see [Code Quality Tools](/lucas-barake/effect-file-manager/8.1-code-quality-tools). For the overall monorepo package structure, see [Monorepo Structure](/lucas-barake/effect-file-manager/3.1-monorepo-structure).

---

## Git Ignore Patterns

The [`.gitignore L1-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`.gitignore#L1-L28)

 file defines which files and directories should be excluded from version control. The patterns are organized into several categories:

### Build Artifacts and Generated Files

| Pattern | Purpose |
| --- | --- |
| `coverage/` | Test coverage reports generated by Vitest |
| `*.tsbuildinfo` | TypeScript incremental compilation cache files |
| `dist/` | Built/bundled output from Vite and TypeScript |
| `build/` | Alternative build output directory |
| `docs/` | Generated documentation (not source documentation) |
| `stats.html` | Bundle analyzer output from client build |

### Dependency and Cache Directories

| Pattern | Purpose |
| --- | --- |
| `node_modules/` | npm/pnpm installed dependencies |
| `tmp/` | Temporary files during build/runtime |

### Environment and System Files

| Pattern | Purpose |
| --- | --- |
| `.env` | Base environment variables file |
| `.env.local` | Local overrides (machine-specific) |
| `.env.development.local` | Development-specific local overrides |
| `.env.test.local` | Test-specific local overrides |
| `.env.production.local` | Production-specific local overrides |
| `.DS_Store` | macOS file system metadata |
| `.direnv/` | direnv shell integration cache |
| `.idea/` | JetBrains IDE configuration |

The `.env*` patterns follow the standard environment file precedence hierarchy, where more specific files override general ones. See [Environment Configuration](/lucas-barake/effect-file-manager/2.1-environment-configuration) for details on which variables are used.

### LLM Tool Exclusions

[`.gitignore L20-L27](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`.gitignore#L20-L27)

 excludes files from various AI coding assistants:

* `.aider*`, `.gitai*`, `.codex*` - AI pair programming tool state
* `AGENTS.md`, `GEMINI.md`, `CLAUDE.local.md` - AI conversation logs
* `.claude/settings.local.json` - Claude configuration

These patterns prevent machine-specific AI tool data from polluting the repository.

**Sources:** [`.gitignore L1-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`.gitignore#L1-L28)

---

## Root Package Configuration

The root [`package.json L1-L68](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L1-L68)

 file configures the monorepo workspace, defines shared scripts, and manages dependency versions across all packages.

### Package Manager Requirements

```

```

[`package.json L4-L8](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L4-L8)

 enforces specific runtime requirements:

| Setting | Value | Purpose |
| --- | --- | --- |
| `packageManager` | `pnpm@10.3.0` | Declares the exact package manager version via Corepack |
| `engines.node` | `22.14.0` | Minimum Node.js version for Effect-TS compatibility |
| `engines.pnpm` | `10.3.0` | Minimum pnpm version for workspace features |

The `packageManager` field enables automatic version enforcement when using Corepack, preventing version drift across developer machines.

**Sources:** [`package.json L4-L8](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L4-L8)

### Workspace Configuration

[`package.json L9-L11](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L9-L11)

 defines the monorepo structure:

```

```

This configures pnpm workspaces to treat all directories under `packages/` as individual packages. The workspace packages are:

* `@example/domain` - Shared types and RPC definitions
* `@example/client` - React frontend application
* `@example/server` - Node.js backend server

Workspace packages can reference each other using the `workspace:*` protocol, enabling type-safe cross-package dependencies. See [Monorepo Structure](/lucas-barake/effect-file-manager/3.1-monorepo-structure) for details on package relationships.

**Sources:** [`package.json L9-L11](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L9-L11)

### Build and Development Scripts

```

```

#### Build Scripts

[`package.json L13](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L13-L13)

 defines the build order with explicit sequencing:

```

```

The domain package must build first since client and server depend on its type definitions. The `--filter` flag targets specific workspace packages.

#### Type Checking Scripts

| Script | Command | Purpose |
| --- | --- | --- |
| `typecheck` | `tsc -b` | Full project type check using TypeScript's project references |
| `check` | `tsc -b` | Alias for `typecheck` |
| `check:fast` | `pnpm lint && pnpm check` | Quick validation combining linting and type checking |

The `-b` flag enables TypeScript's build mode, which respects project references defined in individual `tsconfig.json` files.

#### Development Servers

| Script | Target Package | Description |
| --- | --- | --- |
| `dev:server` | `@example/server` | Starts the Node.js backend with hot reload |
| `dev:client` | `@example/client` | Starts the Vite dev server with HMR |

These scripts use `pnpm --filter` to run the `dev` script in the respective workspace package. See [Running Locally](/lucas-barake/effect-file-manager/2.2-running-locally) for the complete development startup sequence.

**Sources:** [`package.json L12-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L12-L28)

### Code Quality Scripts

```

```

[`package.json L17-L24](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L17-L24)

 defines scripts for maintaining code quality:

#### Linting Scripts

| Script | Tool(s) | Flags | Purpose |
| --- | --- | --- | --- |
| `lint` | OxLint + ESLint | `--quiet` on both | Runs both linters sequentially |
| `lint:oxlint` | OxLint | `--tsconfig --type-aware --quiet` | Fast type-aware linting |
| `lint:eslint` | ESLint | `--quiet` | Runs custom ESLint rules |
| `lint:fix` | OxLint + ESLint | `--fix` | Automatically fixes issues |

OxLint runs first due to its speed (~50-100x faster than ESLint). The `--type-aware` flag enables type information for advanced checks. See [Code Quality Tools](/lucas-barake/effect-file-manager/8.1-code-quality-tools) for configuration details.

#### Formatting Scripts

| Script | Mode | Pattern | Purpose |
| --- | --- | --- | --- |
| `format` | Write | `**/*.{js,ts,mjs,jsx,tsx,json,md,css,html,yaml,yml}` | Auto-formats all supported files |
| `format:check` | Check | Same pattern | Validates formatting in CI |

The pattern explicitly lists all file extensions to avoid accidentally formatting generated or binary files. Prettier plugins are configured for:

* Import sorting (`prettier-plugin-organize-imports`)
* SQL formatting (`prettier-plugin-sql`)
* Tailwind class sorting (`prettier-plugin-tailwindcss`)

**Sources:** [`package.json L17-L24](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L17-L24)

### Testing Scripts

[`package.json L21-L22](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L21-L22)

 defines test execution:

| Script | Mode | Description |
| --- | --- | --- |
| `test` | Run once | Executes all tests via Vitest in CI mode |
| `test:watch` | Watch | Runs Vitest in watch mode for development |

Vitest configuration is defined in individual package `vitest.config.ts` files. The root script runs tests across all workspace packages. See [Testing Strategy](/lucas-barake/effect-file-manager/8.3-testing-strategy) for testing patterns.

**Sources:** [`package.json L21-L22](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L21-L22)

### Database Management Scripts

[`package.json L27-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L27-L28)

 provides database utilities:

| Script | Target | Purpose |
| --- | --- | --- |
| `db:migrate` | `@example/server` | Runs SQL migrations to update schema |
| `db:reset` | `@example/server` | Drops and recreates database |

These delegate to scripts in the server package, which uses `@effect/sql` for migrations.

**Sources:** [`package.json L27-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L27-L28)

### Development Dependencies

```

```

[`package.json L30-L47](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L30-L47)

 declares shared development dependencies installed at the workspace root:

#### TypeScript Toolchain

* `typescript@5.8.3` - TypeScript compiler
* `@types/node@22.8.5` - Node.js type definitions
* `tsx@4.19.2` - TypeScript execution for scripts

#### Effect-TS Tooling

* `@effect/language-service@0.58.4` - TypeScript language service plugin for Effect types
* `@effect/vitest@0.27.0` - Vitest integration for Effect testing

#### Linting Stack

* `oxlint@1.31.0` - Fast Rust-based linter
* `oxlint-tsgolint@0.8.3` - TypeScript-specific rules for OxLint
* `eslint@9.19.0` - JavaScript/TypeScript linter
* `@eslint/js@9.19.0` - ESLint core rules
* `@typescript-eslint/parser@8.46.2` - TypeScript parser for ESLint

#### Formatting Stack

* `prettier@3.4.2` - Code formatter
* `prettier-plugin-organize-imports@4.1.0` - Auto-sorts imports
* `prettier-plugin-sql@0.19.0` - Formats SQL queries
* `prettier-plugin-tailwindcss@0.6.11` - Sorts Tailwind classes

#### Testing

* `vitest@3.1.1` - Test runner and framework

#### Utilities

* `read-package-up@11.0.0` - Finds nearest package.json (used in scripts)

**Sources:** [`package.json L30-L47](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L30-L47)

### pnpm Dependency Overrides

```

```

[`package.json L48-L64](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L48-L64)

 uses pnpm's override mechanism to enforce consistent versions of Effect-TS ecosystem packages:

```

```

#### Purpose of Overrides

pnpm overrides force all workspace packages and their transitive dependencies to use the exact versions specified, even if they declare different version ranges in their own `package.json` files. This is critical for Effect-TS because:

1. **Type Compatibility** - Effect's type system is complex; version mismatches can cause cryptic type errors
2. **Runtime Consistency** - Different Effect versions may have incompatible runtime behaviors
3. **Ecosystem Coherence** - Effect platform packages (`@effect/sql`, `@effect/rpc`) must match the core `effect` version

#### Override Categories

| Category | Packages | Purpose |
| --- | --- | --- |
| Core Runtime | `effect`, `@effect/platform`, `@effect/platform-browser`, `@effect/platform-node` | Base Effect runtime and platform abstractions |
| Database | `@effect/sql`, `@effect/sql-pg` | SQL layer and PostgreSQL adapter |
| Communication | `@effect/rpc` | RPC implementation for client-server |
| State Management | `@effect-atom/atom`, `@effect-atom/atom-react` | Reactive state atoms |
| Observability | `@effect/opentelemetry` | Distributed tracing integration |
| Development Tools | `@effect/language-service`, `@effect/vitest`, `vitest` | IDE support and testing |

The `vitest: ^2.0.5` override ensures compatibility with `@effect/vitest@0.27.0`, which requires Vitest 2.x.

**Sources:** [`package.json L48-L64](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L48-L64)

### Root Production Dependencies

[`package.json L65-L67](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L65-L67)

 declares one production dependency at the root:

```

```

`tailwindcss` is installed at the root because it's used by both the client package (for styling) and potentially by build tooling. Version 4.0.4 represents the stable Tailwind CSS v4 release. See [Styling System](/lucas-barake/effect-file-manager/7.2-styling-system) for Tailwind configuration details.

**Sources:** [`package.json L65-L67](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L65-L67)

---

## Configuration File Summary

| File | Purpose | Documented Aspects |
| --- | --- | --- |
| `.gitignore` | Version control exclusions | Build artifacts, dependencies, environment files, IDE configs, LLM tools |
| `package.json` | Monorepo root configuration | Package manager, workspaces, scripts, dependencies, pnpm overrides |

These configuration files establish the foundational development environment. Additional configuration files for specific tools (TypeScript, ESLint, Prettier, etc.) are documented in their respective sections:

* TypeScript configuration: See [Monorepo Structure](/lucas-barake/effect-file-manager/3.1-monorepo-structure)
* Linting/formatting configuration: See [Code Quality Tools](/lucas-barake/effect-file-manager/8.1-code-quality-tools)
* Testing configuration: See [Testing Strategy](/lucas-barake/effect-file-manager/8.3-testing-strategy)
* Vite and build configuration: See [Client Application](/lucas-barake/effect-file-manager/7-client-application)
* Docker and infrastructure: See [Infrastructure & Observability](/lucas-barake/effect-file-manager/9-infrastructure-and-observability)
* Nix development shell: See [Nix Development Environment](/lucas-barake/effect-file-manager/10-nix-development-environment)

**Sources:** [`.gitignore L1-L28](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`.gitignore#L1-L28)

 [`package.json L1-L68](https://github.com/lucas-barake/effect-file-manager/blob/28eedd82/`package.json#L1-L68)